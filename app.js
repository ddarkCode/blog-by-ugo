(()=>{"use strict";var e={51:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".about-page {\n  min-height: 70vh;\n  padding: 0 50px;\n}\n\n.about-page h1 {\n  font-size: 21px;\n  font-weight: 900;\n  letter-spacing: 1.8;\n  line-height: 1.8;\n}\n.about-page p {\n  font-size: 21px;\n  font-weight: 400;\n  letter-spacing: 1.8;\n  line-height: 1.5;\n}\n.about-content {\n  margin-bottom: 20px;\n}\np span {\n  font-style: italic;\n  font-weight: 700;\n  font-size: 18px;\n  margin-right: 10px;\n  border-bottom: 3px solid #04364a;\n}\n",""]);const s=i},728:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".blog-list {\n  border-bottom: 1px solid #04364a;\n  margin-bottom: 30px;\n}\n\n.blog-list h3 {\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.blog-list-info {\n  margin: 10px 0;\n}\n.blog-list-info h5 {\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n.blog-list-info p {\n  font-size: 12px;\n  font-weight: 400;\n  margin-bottom: 5px;\n}\n\n.blog-list-link {\n  font-size: 17px;\n  font-weight: 400;\n  margin: 15px 0;\n  font-style: italic;\n  background-color: #fff;\n  border: 1px solid #04364a;\n  width: 150px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  cursor: pointer;\n}\n.blog-list-link:hover {\n  background-color: #04364a;\n  border: 1px solid #fff;\n  color: #fff;\n}\n\n.blog-list-link a:hover {\n  color: inherit;\n}\n",""]);const s=i},202:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".blog-main-page {\n  padding: 0 50px;\n  min-height: 80vh;\n}\n\n.blog-main-page h1 {\n  font-size: 21px;\n  font-weight: 700;\n  padding-bottom: 5px;\n}\n\n.blog-main-page > .author-detail {\n  margin: 10px 0;\n  font-style: italic;\n}\n\n.blog-main-page > .author-detail h3 {\n  font-size: 18px;\n  font-weight: 500;\n  margin-bottom: 5px;\n}\n.blog-main-page > .author-detail p {\n  font-size: 16px;\n  font-weight: 400;\n  margin-bottom: 5px;\n}\n.blog-main-page > .paragraphs {\n  font-size: 18px;\n  font-weight: 400;\n}\n.blog-main-page > .paragraphs p {\n  margin-bottom: 20px;\n}\n\n.reaction-icons {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.reaction-icons button {\n  background: none;\n  border: none;\n  cursor: pointer;\n}\n\n.reaction-icons button:nth-child(2) {\n  background: none;\n  border: 1px solid #04364a;\n  margin-left: 20px;\n  width: 50px;\n  height: 30px;\n}\n\n@media only screen and (max-width: 600px) {\n  .blog-main-page {\n    padding: 0 20px;\n  }\n}\n",""]);const s=i},76:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".blogs-page {\n  padding: 0 50px;\n  min-height: 100vh;\n}\n\n.blogs-page h1 {\n  font-size: 21px;\n  font-weight: 900;\n}\n\n@media only screen and (max-width: 600px) {\n  .blogs-page {\n    padding: 0 20px;\n  }\n}\n",""]);const s=i},995:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".comments {\n  margin: 20px 0;\n}\n\n.comments h3 {\n  font-size: 18px;\n  font-weight: 600;\n  font-style: italic;\n  margin: 10px 0;\n  border-bottom: 1px solid #04364a;\n  display: inline-block;\n}\n\n.comment {\n  margin-bottom: 25px;\n  border-left: 1px solid #04364a;\n  padding-left: 5px;\n  font-style: italic;\n}\n\n.comment p {\n  margin-bottom: 10px;\n}\n\n.comment div {\n  margin-bottom: 10px;\n}\n\n.comment span:first-child {\n  margin-right: 10px;\n}\n",""]);const s=i},391:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".compose-input {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-bottom: 10px;\n}\n\n.compose-input label {\n  font-size: 18px;\n  font-weight: 500;\n  font-style: italic;\n  margin: 5px 0;\n}\n\n.compose-input input {\n  height: 40px;\n  border-radius: 10px;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid #04364a;\n}\n",""]);const s=i},964:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".compose-page {\n  padding: 0 50px;\n  margin-bottom: 100px;\n}\n\n.compose-page h1 {\n  font-weight: 600;\n  font-size: 20px;\n  border-bottom: 1px solid #04364a;\n}\n\n.compose-page form {\n  display: flex;\n  flex-direction: column;\n}\n\n.compose-page button {\n  height: 50px;\n  background-color: #04364a;\n  color: #fff;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 5px;\n}\n\n.compose-page button:hover {\n  border: 1px solid #04364a;\n  background-color: #fff;\n  color: #04364a;\n}\n",""]);const s=i},648:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".contact-page {\n  min-height: 70vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.contact-page h1 {\n  font-size: 21px;\n  font-weight: 900;\n  letter-spacing: 1.8;\n  line-height: 1.6;\n}\n\n.contact-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.contact-container p {\n  font-size: 18px;\n  font-weight: 500;\n  letter-spacing: 1.8;\n  line-height: 1.6;\n}\n",""]);const s=i},844:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".auth {\n  height: 80vh;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.auth h1 {\n  margin: 0;\n  margin-bottom: 30px;\n  font-size: 21px;\n  font-weight: 600;\n}\n\n.auth-container form {\n  width: 70vw;\n  display: flex;\n  flex-direction: column;\n}\n\n.auth-container form button {\n  height: 40px;\n  outline: none;\n  border-radius: 20px;\n  margin-bottom: 10px;\n  background-color: #04364a;\n  color: #fff;\n  border: none;\n}\n\n.auth-container form button:hover {\n  background-color: #fff;\n  color: #04364a;\n}\n#signup {\n  margin-top: 50px;\n}\n",""]);const s=i},555:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".google-button {\n  width: 260px;\n  height: 70px;\n}\n\n.google-button img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n",""]);const s=i},754:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".navbar {\n  border: 0;\n  border-radius: 0;\n  margin-bottom: 0;\n  font-size: 12px;\n  letter-spacing: 5px;\n}\n.navbar-nav li a:hover {\n  color: #1abc9c !important;\n}\n\n.navbar-brand a img {\n  object-fit: cover;\n  height: 60px;\n  width: 150px;\n}\n\n.container {\n  background-color: #04364a;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100px;\n  padding: 0 50px;\n}\n\n.container ul {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.container ul li,\n.container ul li a {\n  margin-left: 10px;\n  color: #fff;\n}\n.container ul li:first-child {\n  margin-left: 0;\n}\n\n@media only screen and (max-width: 900px) {\n  .navbar {\n    font-size: 8px;\n    letter-spacing: 2px;\n  }\n  .container ul li,\n  .container ul li a {\n    margin-left: 5px;\n  }\n}\n\n@media only screen and (max-width: 600px) {\n  .container {\n    flex-direction: column;\n    height: 270px;\n    padding: 0 20px;\n  }\n  .navbar {\n    font-size: 12px;\n    letter-spacing: 2px;\n  }\n  .navbar-header {\n    width: 100%;\n  }\n  .navbar-brand {\n    width: 100%;\n    margin-top: 10px;\n  }\n\n  .navbar-brand a img {\n    object-fit: cover;\n    height: 190px;\n    width: 100%;\n  }\n\n  .container ul {\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .container ul li,\n  .container ul li a {\n    margin-left: 5px;\n  }\n  .container ul li:first-child,\n  .container ul li a:first-child {\n    margin-left: 0;\n  }\n}\n",""]);const s=i},290:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".home-page {\n  padding: 0 50px;\n  min-height: 80vh;\n}\n\n.home-page h1 {\n  text-align: center;\n  border-bottom: 1px solid #e3eff3;\n  font-size: 23px;\n  font-weight: 900;\n}\n\n.home-page h3 {\n  font-weight: 700;\n  font-size: 18px;\n}\n\n.home-page p {\n  line-height: 1.4;\n  letter-spacing: 1.8;\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 40px;\n}\n\n.explore {\n  display: inline-block;\n  width: 150px;\n  height: 50px;\n  margin-bottom: 20px;\n  border: 1px solid #04364a;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n@media only screen and (max-width: 600px) {\n  .home-page {\n    padding: 0 20px;\n  }\n}\n",""]);const s=i},91:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".input-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.input-container label {\n  margin-bottom: 10px;\n  font-size: 15px;\n  font-weight: 400;\n}\n\n.input-container input {\n  height: 40px;\n  outline: none;\n  border-radius: 20px;\n  margin-bottom: 10px;\n}\n",""]);const s=i},826:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),a=t.n(r),o=t(645),i=t.n(o)()(a());i.push([e.id,".text-area {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-bottom: 10px;\n}\n\n.text-area label {\n  font-size: 18px;\n  font-weight: 500;\n  font-style: italic;\n  margin: 5px 0;\n}\n\n.text-area textarea {\n  border-radius: 10px;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid #04364a;\n}\n",""]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,p="".concat(u," ").concat(l);o[u]=l+1;var d=t(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var f=a(m,r);r.byIndex=s,n.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=t(o[i]);n[s].references--}for(var c=r(e,a),u=0;u<o.length;u++){var l=t(o[u]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=require("@babel/runtime/helpers/asyncToGenerator");var n=t.n(e);const r=require("@babel/runtime/regenerator");var a=t.n(r);const o=require("dotenv");var i=t.n(o);const s=require("express");var c=t.n(s);const u=require("react");var l=t.n(u);const p=require("morgan");var d=t.n(p);const m=require("debug");var f=t.n(m);const g=require("mongoose"),h=require("express-session");var b=t.n(h);const v=require("connect-mongodb-session");var y=t.n(v);const x=require("cors");var w=t.n(x);const E=require("react-router-config"),O=require("express-rate-limit");f()("index:errorHandler");const k=require("passport");var S=t.n(k);const A=require("bcrypt"),P=require("mongoose-findorcreate");var j=t.n(P),T=process.env.PASSWORD_SALT,I=new g.Schema({username:{type:String,required:[!0,"Please Provide Your Username Address"]},email:{type:String,required:[!0,"Please Provide Your Email Address"]},password:{type:String},googleId:String},{timestamps:!0});I.plugin(j()),I.pre("save",function(){var e=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isModified("password")){e.next=4;break}return e.next=3,(0,A.hash)(this.password,+T);case 3:this.password=e.sent;case 4:n();case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()),I.methods.confirmPassword=function(){var e=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.compare)(n,this.password);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}();const C=(0,g.model)("User",I),_=require("passport-local");f()("index:localStrategy");const N=require("passport-google-oauth20");var D=t.n(N);i().config();var Z=process.env;function L(){return L=n()(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.use(S().initialize()),t.use(S().session()),S().serializeUser((function(e,n){return n(null,e)})),S().deserializeUser(function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.findOne({email:n.email});case 3:return r=e.sent,e.abrupt("return",t(null,r));case 7:e.prev=7,e.t0=e.catch(0),t(null,!1,{message:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}()),S().use("signup",new _.Strategy({usernameField:"email",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,o){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.findOne({email:t});case 3:if(!e.sent){e.next=6;break}throw new Error("User With This Email Already Exist.");case 6:return i=new C({email:t,password:r,username:n.body.username}),e.next=9,i.save();case 9:return e.abrupt("return",o(null,i,{message:"Successful Registration."}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",o(e.t0,!1));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t,r,a){return e.apply(this,arguments)}}())),S().use("login",new _.Strategy({usernameField:"email",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,o){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.findOne({email:t});case 3:if(i=e.sent){e.next=6;break}throw new Error("User Not Found.");case 6:if(i.confirmPassword(r)){e.next=8;break}throw new Error("Wrong Password Provided.");case 8:return e.abrupt("return",o(null,i,{message:"Successfully Logged In."}));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",o(e.t0,!1));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t,r,a){return e.apply(this,arguments)}}())),S().use(new(D())({clientID:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,callbackURL:"https://ublog-fw5w.onrender.com/api/auth/google/authenticate",passReqToCallback:!0},(function(e,n,t,r,a){console.log(process.env.GOOGLE_CLIENT_ID),console.log(process.env.GOOGLE_CLIENT_SECRET),C.findOrCreate({googleId:r.id,username:r.displayName,email:r.emails[0].value},(function(e,n){return a(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}Z.GOOGLE_CLIENT_ID,Z.GOOGLE_CLIENT_SECRET,f()("index:googleStrategy");const q=require("@babel/runtime/helpers/defineProperty");var z=t.n(q);const B=require("@babel/runtime/helpers/slicedToArray");var R=t.n(B);const U=require("@babel/runtime/helpers/toConsumableArray");var M=t.n(U),F=new g.Schema({title:{type:String,min:20,required:[!0,"Please Provide The Title of Your Post"]},description:{type:String,required:[!0,"Please Provide The Description of Your Post"]},para1:{type:String,required:[!0,"Please Provide Content For Your Post"]},para2:{type:String,required:[!0,"Please Provide Content For Your Post"]},para3:{type:String,required:[!0,"Please Provide Content For Your Post"]},comments:{type:Array,default:[]},likes:{type:Array,default:[]},authorId:{type:String}},{timestamps:!0});const Y=(0,g.model)("Blog",F);f()("index:blogController");const G={getAllBlogs:(X=n()(a().mark((function e(t,r,o){var i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.find({});case 3:i=e.sent,s=new Set,i.forEach((function(e){s.add(e.authorId)})),c=M()(s).map(function(){var e=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.findOne({_id:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Promise.all(c).then((function(e){for(var n=[],t=0;t<i.length;t+=1)for(var a=0;a<e.length;a+=1)if(i[t].authorId.toString()===e[a]._id.toString()){var o=e[a],s=o.email,c=o.username;n.push(Object.assign({},i[t]._doc,{email:s,username:c}))}return r.status(200).json(n)})).catch((function(e){o(e)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,n,t){return X.apply(this,arguments)}),postNewBlog:(V=n()(a().mark((function e(n,t,r){var o,i,s,c,u,l,p,d,m,f,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.body,i=o.title,s=o.description,c=o.para1,u=o.para2,l=o.para3,e.prev=1,!n.isAuthenticated()){e.next=10;break}return p=n.user,d=p.email,m=p.username,f=p._id,e.next=6,Y.create({title:i,description:s,para1:c,para2:u,para3:l,authorId:f});case 6:return g=e.sent,e.abrupt("return",t.status(201).json(Object.assign({},g._doc,{email:d,username:m})));case 10:throw new Error("You Must Login To Post A Blog.");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),function(e,n,t){return V.apply(this,arguments)}),getASingleBlog:(J=n()(a().mark((function e(n,t,r){var o,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.params.blogId,e.prev=1,e.next=4,Y.findById(o);case 4:return i=e.sent,e.next=7,C.findOne({_id:i.authorId});case 7:if(s=e.sent,c=s.username,u=s.email,i){e.next=12;break}return e.abrupt("return",t.status(404).json({message:"Blog Not Found!"}));case 12:return e.abrupt("return",t.status(200).json(Object.assign({},i._doc,{username:c,email:u})));case 15:e.prev=15,e.t0=e.catch(1),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),function(e,n,t){return J.apply(this,arguments)}),updateABlog:(H=n()(a().mark((function e(n,t,r){var o,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.params.blogId,e.prev=1,e.next=4,Y.findById(o);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Blog Not Found!"}));case 7:if(!n.isAuthenticated()||n.user._id.toString()!==i.authorId.toString()){e.next=15;break}return Object.entries(n.body).forEach((function(e){var n=R()(e,2),t=n[0],r=n[1];i[t]=r})),e.next=11,i.save();case 11:return s=n.user,c=s.username,u=s.email,e.abrupt("return",t.status(200).json(Object.assign({},i._doc,{username:c,email:u})));case 15:return e.abrupt("return",t.status(301).json({message:"You Are Not Authorized Perform This Operation."}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),r(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),function(e,n,t){return H.apply(this,arguments)}),deleteABlog:(W=n()(a().mark((function e(n,t,r){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.params.blogId,e.prev=1,e.next=4,Y.findById(o);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Blog Not Found!"}));case 7:if(!n.isAuthenticated()||n.user._id.toString()!==i.authorId.toString()){e.next=12;break}return i.deleteOne(),e.abrupt("return",t.status(200).json({message:"Blog Successfully Deleted.",_id:i._id}));case 12:return e.abrupt("return",t.status(301).json({message:"You Are Not Authorized Perform This Operation."}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),function(e,n,t){return W.apply(this,arguments)})};var W,H,J,V,X,Q=new g.Schema({message:String,authorId:String,author:String,createdAt:Date,time:String});const K=(0,g.model)("Comment",Q);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ne=require("joi");var te=t.n(ne),re=f()("index:userValidator"),ae=te().object({username:te().string().min(2).required(),password:te().string().alphanum().min(8).optional(),email:te().string().email({minDomainSegments:2,tlds:{allow:["com","net","org"]}}).required(),googleId:te().string().optional()}),oe=function(){var e=n()(a().mark((function e(n,t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.validateAsync(n.body);case 3:r(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),re(e.t0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n,t,r){return e.apply(this,arguments)}}();const ie=oe;f()("index:authRoutes");const se=require("react-router-dom"),ce=require("react-dom/server"),ue=require("react-redux"),le=require("serialize-javascript");var pe=t.n(le);const de=require("@reduxjs/toolkit"),me=require("axios");var fe=t.n(me),ge=(0,de.createAsyncThunk)("blogs/get_all_blogs",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().get("".concat(Ae,"/blogs"));case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),he=(0,de.createAsyncThunk)("blogs/get_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().get("".concat(Ae,"/blogs/").concat(n));case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),be=(0,de.createAsyncThunk)("blogs/post_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,fe().post("".concat(Ae,"/blogs"),n);case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ve=(0,de.createAsyncThunk)("blogs/update_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().patch("".concat(Ae,"/blogs/").concat(n.blogId),n.updateData);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ye=(0,de.createAsyncThunk)("blogs/delete_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().delete("".concat(Ae,"/blogs/").concat(n));case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),xe=(0,de.createAsyncThunk)("blogs/like_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().post("".concat(Ae,"/blogs/").concat(n,"/likes"),{});case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),we=(0,de.createAsyncThunk)("blogs/unlike_a_blog",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().delete("".concat(Ae,"/blogs/").concat(n,"/likes"),{});case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ee=(0,de.createAsyncThunk)("blogs/add_a_comment",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().post("".concat(Ae,"/blogs/").concat(n.blogId,"/comments"),n.comment);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Oe=(0,de.createAsyncThunk)("blogs/delete_a_comment",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().delete("".concat(Ae,"/blogs/").concat(n.blogId,"/comments/").concat(n.commentId),n);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ke=(0,de.createSlice)({name:"blogs",initialState:{blogs:[],blog:{}},reducers:{},extraReducers:function(e){e.addCase(ge.fulfilled,(function(e,n){e.blogs=n.payload})),e.addCase(he.fulfilled,(function(e,n){e.blog=n.payload})),e.addCase(be.fulfilled,(function(e,n){e.blogs.push(n.payload)})),e.addCase(ve.fulfilled,(function(e,n){e.blogs=e.blogs.map((function(e){return e._id.toString()===n.payload._id.toString()?n.payload:e}))})),e.addCase(ye.fulfilled,(function(e,n){e.blogs=e.blogs.filter((function(e){return e._id.toString()!==n.payload._id.toString()}))})),e.addCase(xe.fulfilled,(function(e,n){e.blog=n.payload})),e.addCase(we.fulfilled,(function(e,n){e.blog=n.payload})),e.addCase(Ee.fulfilled,(function(e,n){e.blog=n.payload})),e.addCase(Oe.fulfilled,(function(e,n){e.blog=n.payload}))}});ke.actions;const Se=ke.reducer;var Ae="https://ublog-fw5w.onrender.com/api",Pe=(0,de.createAsyncThunk)("auth/signup",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().post("".concat(Ae,"/auth/signup"),n);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),je=(0,de.createAsyncThunk)("auth/signin",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().post("".concat(Ae,"/auth/signin"),n);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Te=(0,de.createAsyncThunk)("auth/signout",function(){var e=n()(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().get("".concat(Ae,"/auth/signout"));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ie=(0,de.createAsyncThunk)("auth/update",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().patch("".concat(Ae,"/auth/").concat(n.userId),n);case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ce=(0,de.createAsyncThunk)("auth/profile",function(){var e=n()(a().mark((function e(n,t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().get("".concat(Ae,"/auth/profile"));case 2:return r=e.sent,o=r.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),_e=(0,de.createSlice)({name:"auth",initialState:{user:null},reducers:{updateAuthOnPageLoad:function(e,n){e.user=JSON.parse(n.payload)}},extraReducers:function(e){e.addCase(Pe.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload)),e.user=n.payload})),e.addCase(je.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload)),e.user=n.payload})),e.addCase(Ie.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload)),e.user=n.payload})),e.addCase(Ce.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload)),e.user=n.payload})),e.addCase(Te.fulfilled,(function(e,n){localStorage.setItem("auth",null),e.user=null}))}}),Ne=_e.actions,De=_e.reducer;Ne.updateAuthOnPageLoad;const Ze=De;var Le=t(379),qe=t.n(Le),ze=t(795),Be=t.n(ze),Re=t(569),Ue=t.n(Re),Me=t(565),Fe=t.n(Me),Ye=t(216),Ge=t.n(Ye),We=t(589),He=t.n(We),Je=t(754),Ve={};Ve.styleTagTransform=He(),Ve.setAttributes=Fe(),Ve.insert=Ue().bind(null,"head"),Ve.domAPI=Be(),Ve.insertStyleElement=Ge(),qe()(Je.Z,Ve),Je.Z&&Je.Z.locals&&Je.Z.locals;const Xe=function(){var e=(0,ue.useSelector)((function(e){return e.auth.user})),n=(0,ue.useDispatch)();return l().createElement("div",null,l().createElement("nav",{className:"navbar navbar-default"},l().createElement("div",{className:"container"},l().createElement("div",{className:"navbar-header"},l().createElement("p",{className:"navbar-brand"},l().createElement(se.Link,{to:"/"},l().createElement("img",{src:"/ublog.png",alt:"blog brand"})))),l().createElement("ul",{className:"nav navbar-nav navbar-right"},l().createElement("li",{id:"about"},l().createElement(se.Link,{to:"/blogs"},"BLOGS")),e&&l().createElement("li",{id:"about"},l().createElement(se.Link,{to:"/compose"},"COMPOSE")),e?l().createElement("li",{id:"about"},l().createElement("a",{style:{cursor:"pointer"},role:"button",onClick:function(){n(Te())}},"LOGOUT")):l().createElement("li",{id:"about"},l().createElement(se.Link,{to:"/login"},"LOGIN")),l().createElement("li",{id:"about"},l().createElement(se.Link,{to:"/about"},"ABOUT US")),l().createElement("li",{id:"contact"},l().createElement(se.Link,{to:"/contact"},"CONTACT US"))))))},Qe=function(){return l().createElement("footer",null,l().createElement("div",null,l().createElement("p",null,"Made with ❤️ by darkcode")))};var Ke=t(290),$e={};$e.styleTagTransform=He(),$e.setAttributes=Fe(),$e.insert=Ue().bind(null,"head"),$e.domAPI=Be(),$e.insertStyleElement=Ge(),qe()(Ke.Z,$e),Ke.Z&&Ke.Z.locals&&Ke.Z.locals;const en=require("lodash");var nn=t(91),tn={};tn.styleTagTransform=He(),tn.setAttributes=Fe(),tn.insert=Ue().bind(null,"head"),tn.domAPI=Be(),tn.insertStyleElement=Ge(),qe()(nn.Z,tn),nn.Z&&nn.Z.locals&&nn.Z.locals;const rn=function(e){var n=e.type,t=e.onChange,r=e.name,a=e.value,o=e.min,i=e.placeholder;return l().createElement("div",{className:"input-container"},l().createElement("label",{htmlFor:n},(0,en.capitalize)(r)),l().createElement("input",{type:n,className:"form-control",name:r,onChange:t,value:a,minLength:o||2,placeholder:i||"",required:!0}))},an=function(e){var n=e.onSubmit,t=e.children;return l().createElement("form",{className:"auth-form",onSubmit:n},t)},on=function(e){var n=e.text;return l().createElement("button",{type:"submit",className:"btn btn-dark"},(0,en.capitalize)(n))};var sn=t(555),cn={};cn.styleTagTransform=He(),cn.setAttributes=Fe(),cn.insert=Ue().bind(null,"head"),cn.domAPI=Be(),cn.insertStyleElement=Ge(),qe()(sn.Z,cn),sn.Z&&sn.Z.locals&&sn.Z.locals;const un=function(){return l().createElement("button",{className:"google-button",onClick:function(){return window.location.href="/api/auth/google"},role:"button"},l().createElement("img",{src:"/googleButton.png"}))};var ln=t(844),pn={};function dn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dn(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}pn.styleTagTransform=He(),pn.setAttributes=Fe(),pn.insert=Ue().bind(null,"head"),pn.domAPI=Be(),pn.insertStyleElement=Ge(),qe()(ln.Z,pn),ln.Z&&ln.Z.locals&&ln.Z.locals;function fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fn(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const hn=require("@babel/runtime/helpers/extends");var bn=t.n(hn),vn=function(e){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},yn=t(728),xn={};xn.styleTagTransform=He(),xn.setAttributes=Fe(),xn.insert=Ue().bind(null,"head"),xn.domAPI=Be(),xn.insertStyleElement=Ge(),qe()(yn.Z,xn),yn.Z&&yn.Z.locals&&yn.Z.locals;const wn=function(e){var n=e._id,t=e.createdAt,r=e.title,a=e.username,o=e.description,i=e.para1;return l().createElement("div",{key:n,className:"blog-list"},l().createElement("h3",null,r),l().createElement("div",{className:"blog-list-info"},l().createElement("h5",null,(0,en.capitalize)(o)),l().createElement("p",{style:{marginTop:0}},"By ",(0,en.capitalize)(a)),l().createElement("p",{style:{marginTop:0}},vn(t))),l().createElement("p",null,i),l().createElement("div",null,l().createElement(se.Link,{className:"blog-list-link",to:"/blogs/".concat(n)},"Read More....")))};var En=t(76),On={};On.styleTagTransform=He(),On.setAttributes=Fe(),On.insert=Ue().bind(null,"head"),On.domAPI=Be(),On.insertStyleElement=Ge(),qe()(En.Z,On),En.Z&&En.Z.locals&&En.Z.locals;const kn={component:function(){var e=(0,ue.useSelector)((function(e){return e.blogs.blogs})),n=(0,ue.useDispatch)();return(0,u.useEffect)((function(){0===e.length&&n(ge())}),[]),l().createElement("div",{className:"blogs-page"},l().createElement("h1",null,"Explore Stories And Thinking On A Variety Of Topics"),0===e.length?l().createElement("h2",{style:{textAlign:"center",height:"80vh",marginTop:"200px"}},"Loading"):e.map((function(e){return l().createElement(wn,bn()({key:e._id},e))})))},loadData:function(e){return e.dispatch(ge())}},Sn=require("react-bootstrap-icons");var An=t(202),Pn={};Pn.styleTagTransform=He(),Pn.setAttributes=Fe(),Pn.insert=Ue().bind(null,"head"),Pn.domAPI=Be(),Pn.insertStyleElement=Ge(),qe()(An.Z,Pn),An.Z&&An.Z.locals&&An.Z.locals;const jn=function(e){var n=e.message,t=e.createdAt,r=e.time,a=e.author,o=e._id,i=e.authorId,s=e.blogId,c=(0,ue.useSelector)((function(e){return e.auth.user})),u=(0,ue.useDispatch)(),p=c&&c._id===i;return l().createElement("div",{className:"comment"},l().createElement("div",null,l().createElement("span",null,a),":",l().createElement("span",null,vn(t))," ","  ",l().createElement("span",null,r)),l().createElement("p",null,n),l().createElement("button",{style:{display:p?"block":"none"}},l().createElement(Sn.X,{onClick:function(){return u(Oe({blogId:s,commentId:o}))}})))};var Tn=t(995),In={};function Cn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _n(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cn(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}In.styleTagTransform=He(),In.setAttributes=Fe(),In.insert=Ue().bind(null,"head"),In.domAPI=Be(),In.insertStyleElement=Ge(),qe()(Tn.Z,In),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;const Nn=function(e){var n=e.comments,t=e.blogId,r=(0,u.useState)({message:""}),a=R()(r,2),o=a[0],i=a[1],s=(0,ue.useDispatch)();return l().createElement("div",{className:"comments"},l().createElement("h3",null,"Comments"),n.map((function(e){return l().createElement(jn,bn()({key:e._id},e,{blogId:t}))})),l().createElement("div",null,l().createElement("h5",null,"Leave A Comment"),l().createElement("form",{onSubmit:function(e){e.preventDefault(),s(Ee({blogId:t,comment:o})),i({message:""})}},l().createElement("input",{name:"message",value:o.message,onChange:function(e){var n=e.target,t=n.name,r=n.value;i((function(e){return _n(_n({},e),{},z()({},t,r))}))}}),l().createElement("button",{type:"submit"},"Submit"))))},Dn={component:function(){var e=(0,se.useParams)().blogId,n=(0,ue.useDispatch)(),t=(0,se.useHistory)(),r=(0,ue.useSelector)((function(e){return e.blogs.blog})),a=(0,ue.useSelector)((function(e){return e.auth.user}));(0,u.useEffect)((function(){n(he(e))}),[]);var o=r._id,i=r.title,s=r.description,c=r.username,p=r.createdAt,d=r.para1,m=r.para2,f=r.para3,g=r.comments,h=r.likes,b=r.authorId,v=a&&h&&h.includes(a._id),y=a&&a._id===b;return l().createElement("div",{className:"blogs-page blog-main-page"},0===Object.keys(r).length?l().createElement("h2",{style:{textAlign:"center",height:"80vh",marginTop:"200px"}},"Loading"):l().createElement(l().Fragment,null,l().createElement("h1",null,i),l().createElement("div",{className:"author-detail"},l().createElement("h3",null,(0,en.capitalize)(s)," "),l().createElement("p",null," ",(0,en.capitalize)(c)," "),l().createElement("p",null,vn(p))),l().createElement("div",{className:"paragraphs"},l().createElement("p",null,d),l().createElement("p",null,m),l().createElement("p",null,f)),l().createElement("div",{className:"reaction-icons"},l().createElement("div",null,l().createElement("button",{onClick:v?function(){n(we(o))}:function(){n(xe(o))},disabled:!a},l().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"2em",height:"2em",fill:"#C70039"},l().createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}))),l().createElement("span",null,h.length)),l().createElement("button",{style:{display:y?"block":"none"}},l().createElement(Sn.X,{onClick:function(){n(ye(e)),t.push("/blogs")}}))),l().createElement(Nn,{comments:g,blogId:o}),l().createElement("div",{style:{textAlign:"right",marginBottom:"20px"}},l().createElement(se.Link,{to:"/blogs",style:{borderBottom:"1px solid #04364a"}},"Back To blogs"))))},loadData:function(e,n){return e.dispatch(he(n))}};var Zn=t(51),Ln={};Ln.styleTagTransform=He(),Ln.setAttributes=Fe(),Ln.insert=Ue().bind(null,"head"),Ln.domAPI=Be(),Ln.insertStyleElement=Ge(),qe()(Zn.Z,Ln),Zn.Z&&Zn.Z.locals&&Zn.Z.locals;var qn=t(648),zn={};zn.styleTagTransform=He(),zn.setAttributes=Fe(),zn.insert=Ue().bind(null,"head"),zn.domAPI=Be(),zn.insertStyleElement=Ge(),qe()(qn.Z,zn),qn.Z&&qn.Z.locals&&qn.Z.locals;var Bn=t(826),Rn={};Rn.styleTagTransform=He(),Rn.setAttributes=Fe(),Rn.insert=Ue().bind(null,"head"),Rn.domAPI=Be(),Rn.insertStyleElement=Ge(),qe()(Bn.Z,Rn),Bn.Z&&Bn.Z.locals&&Bn.Z.locals;const Un=function(e){var n=e.title,t=e.name,r=e.value,a=e.onChange;return l().createElement("div",{className:"text-area"},l().createElement("label",null,(0,en.capitalize)(n)),l().createElement("textarea",{className:"",name:t,rows:"5",cols:"30",value:r,onChange:a,required:!0}))};var Mn=t(391),Fn={};Fn.styleTagTransform=He(),Fn.setAttributes=Fe(),Fn.insert=Ue().bind(null,"head"),Fn.domAPI=Be(),Fn.insertStyleElement=Ge(),qe()(Mn.Z,Fn),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;const Yn=function(e){var n=e.type,t=e.name,r=e.value,a=e.onChange;return l().createElement("div",{className:"compose-input"},l().createElement("label",{htmlFor:t},(0,en.capitalize)(t)),l().createElement("input",{className:"",id:t,type:n,name:t,value:r,onChange:a,required:!0}))};var Gn=t(964),Wn={};function Hn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hn(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Vn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vn(Object(t),!0).forEach((function(n){z()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}Wn.styleTagTransform=He(),Wn.setAttributes=Fe(),Wn.insert=Ue().bind(null,"head"),Wn.domAPI=Be(),Wn.insertStyleElement=Ge(),qe()(Gn.Z,Wn),Gn.Z&&Gn.Z.locals&&Gn.Z.locals;const Qn=[{component:function(e){var n=e.route,t=(0,ue.useDispatch)();return(0,u.useEffect)((function(){t(Ce())}),[t]),l().createElement("div",null,l().createElement(Xe,null),(0,E.renderRoutes)(n.routes),l().createElement(Qe,null))},routes:[{path:"/",exact:!0,component:function(){return l().createElement("div",{className:"home-page"},l().createElement("h1",null,"Curious? Discover Stories And Thinking On A Variety Of Topics."),l().createElement("h3",null,"Welcome to Ublog: Your Voice, Amplified"),l().createElement("p",null,"Do you have stories to tell, opinions to share, or knowledge to dispense? Ublog is your open stage, a vibrant community where passionate voices like yours can take center stage. Whether you're a seasoned wordsmith or a budding writer, a seasoned photographer or a meme aficionado, Ublog offers a platform to connect, engage, and inspire."),l().createElement("p",null,"Forget the echo chambers of social media where algorithms dictate what you see. Here, authenticity reigns supreme. You curate your own experience, discovering diverse perspectives and voices that spark curiosity and challenge your viewpoints. Dive into personal narratives, insightful thought pieces, and captivating creative expressions – a vibrant tapestry woven from the threads of your fellow Ubloggers."),l().createElement("p",null,"So, step into the spotlight and let your voice ring out. Share your passions, ignite discussions, and leave your mark on the world. Ublog is more than just a blog; it's a community of open minds, eager hearts, and boundless creativity. Welcome to your platform, your voice, your Ublog."),l().createElement(se.Link,{to:"/blogs",className:"explore"},"Explore"))}},{path:"/signup",component:function(){var e=(0,u.useState)({username:"",email:"",password:""}),t=R()(e,2),r=t[0],o=t[1],i=console.log,s=(0,se.useHistory)(),c=(0,ue.useDispatch)(),p=function(e){var n=e.target,t=n.name,r=n.value;o((function(e){return mn(mn({},e),{},z()({},t,r))}))};function d(){return(d=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{c(Pe(r)),s.push("/blogs")}catch(e){i(e)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l().createElement("div",{className:"auth",id:"signup"},l().createElement("h1",null,"Signup"),l().createElement("div",null,l().createElement("div",{className:"auth-container"},l().createElement(an,{onSubmit:function(e){return d.apply(this,arguments)}},l().createElement(rn,{value:r.username,type:"username",name:"username",onChange:p}),l().createElement(rn,{value:r.email,type:"email",name:"email",onChange:p}),l().createElement(rn,{value:r.password,type:"password",name:"password",onChange:p,min:8,placeholder:"Minimum of 8 alphanumeric characters"}),l().createElement(on,{text:"Signup"})),l().createElement("div",{style:{textAlign:"center",margin:"30px 0"}},"Don't Have An Account? ",l().createElement(se.Link,{to:"/signup"},"Signin"))),l().createElement("div",{style:{textAlign:"center",margin:"10px 0"}},l().createElement(un,null))))}},{path:"/login",component:function(){var e=(0,u.useState)({email:"",password:""}),t=R()(e,2),r=t[0],o=t[1],i=console.log,s=(0,se.useHistory)(),c=(0,ue.useDispatch)(),p=function(e){var n=e.target,t=n.name,r=n.value;o((function(e){return gn(gn({},e),{},z()({},t,r))}))};function d(){return(d=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{c(je(r)),s.push("/blogs")}catch(e){i(e)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l().createElement("div",{className:"auth"},l().createElement("h1",null,"Login"),l().createElement("div",null,l().createElement("div",{className:"auth-container"},l().createElement(an,{onSubmit:function(e){return d.apply(this,arguments)}},l().createElement(rn,{value:r.email,type:"email",name:"email",onChange:p}),l().createElement(rn,{value:r.password,type:"password",name:"password",onChange:p,min:8,placeholder:"Minimum of 8 alphanumeric characters"}),l().createElement(on,{text:"Login"})),l().createElement("div",{style:{textAlign:"center",margin:"30px 0"}},"Don't Have An Account? ",l().createElement(se.Link,{to:"/signup"},"Signup"))),l().createElement("div",{style:{textAlign:"center",margin:"10px 0"}},l().createElement(un,null))))}},{path:"/compose",component:function(){var e=(0,u.useState)({title:"",description:"",para1:"",para2:"",para3:""}),n=R()(e,2),t=n[0],r=n[1],a=(0,ue.useDispatch)(),o=(0,se.useHistory)(),i=function(e){var n=e.target,t=n.name,a=n.value;r((function(e){return Jn(Jn({},e),{},z()({},t,a))}))};return l().createElement("div",{className:"compose-page"},l().createElement("h1",null,"Compose"),l().createElement("form",{onSubmit:function(e){e.preventDefault(),a(be(t)),r({title:"",description:"",para1:"",para2:"",para3:""}),o.push("/blogs")}},l().createElement(Yn,{type:"text",name:"title",value:t.title,onChange:i}),l().createElement(Yn,{type:"text",name:"description",value:t.description,onChange:i}),l().createElement(Un,{title:"Paragraph 1",name:"para1",value:t.para1,onChange:i}),l().createElement(Un,{title:"Paragraph 2",name:"para2",value:t.para2,onChange:i}),l().createElement(Un,{title:"Paragraph 3",name:"para3",value:t.para3,onChange:i}),l().createElement("button",{className:"btn btn-primary",type:"submit",name:"button"},"Publish")))}},Xn({path:"/blogs",exact:!0},kn),Xn({path:"/blogs/:blogId"},Dn),{path:"/about",component:function(){return l().createElement("div",{className:"about-page"},l().createElement("h1",null,"We're Changing The Way People Think About Blogging"),l().createElement("p",{className:"about-content"}," ",l().createElement("span",null,"uBlog"),"is a blogging technology company founded on the premise that basic blogginng services should be helpful, easy and free. We want to profit with our members, not from them. That’s why our model doesn’t rely on monthly service fees or subscription. We help drive innovation, inclusion, and access across the industry."," "),l().createElement("p",null,"Do you have stories to tell, opinions to share, or knowledge to dispense? ",l().createElement("span",null,"Ublog")," is your open stage, a vibrant community where passionate voices like yours can take center stage. Whether you're a seasoned wordsmith or a budding writer, a seasoned photographer or a meme aficionado, ",l().createElement("span",null,"Ublog")," offers a platform to connect, engage, and inspire."))}},{path:"/contact",component:function(){return l().createElement("div",{className:"contact-page"},l().createElement("h1",null,"We'd Love To Here From You."),l().createElement("div",{className:"contact-container"},l().createElement("p",{className:"contact-content"}," ","Whether You Are Curious About Features Or Even Press - We're Ready To Answer Any And All Questions"," "),l().createElement("div",{className:"image-container"},l().createElement("img",{src:"/images/lightbulb2.jpg",className:"contact-img",alt:"light bulb"}))))}}]}];i().config();var Kn,$n,et,nt,tt,rt,at,ot=f()("index"),it=y()(b()),st=process.env,ct=(st.MONGO_LOCAL,st.MONGO_CLOUD),ut=st.SESSION_SECRET,lt=st.FRONTEND_URL,pt=process.env.PORT||9e3,dt=c()(),mt=(0,O.rateLimit)({windowMs:9e5,limit:100,standardHeaders:"draft-7",legacyHeaders:!1,validate:{trustProxy:!1}}),ft=new it({uri:process.env.MONGO_CLOUD,collection:"ublogDbSessions"});dt.use(w()({origin:lt,credentials:!0})),dt.use(b()({secret:ut,resave:!1,saveUninitialized:!1,store:ft,cookie:{maxAge:290304e5}})),function(e){L.apply(this,arguments)}(dt),dt.use(c().static("public")),dt.use(c().json()),dt.use(c().urlencoded({extended:!0})),dt.use(d()("dev")),dt.use(mt),dt.use("/api",((Kn=(0,s.Router)()).route(ie,"/auth/signup").post((function(e,n,t){S().authenticate("signup",(function(r,a,o,i){r&&t(r),e.login(a,(function(e){e&&t(e);var r=a.username,o=a.email,i=a.createdAt,s=a._id;return n.status(201).json({username:r,email:o,createdAt:i,_id:s})}))}))(e,n,t)})),Kn.route("/auth/signin").post((function(e,t,r){S().authenticate("login",(function(o,i,s){o&&r(o),e.login(i,function(){var e=n()(a().mark((function e(n){var o,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&r(n),o=i.email,s=i.username,c=i.createdAt,u=i._id,e.abrupt("return",t.status(200).json({email:o,username:s,createdAt:c,_id:u}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}))(e,t,r)})),Kn.route("/auth/google").get(S().authenticate("google",{scope:["profile","email"]})),Kn.route("/auth/google/authenticate").get((function(e,t,r){S().authenticate("google",(function(o,i,s){o&&r(o),e.login(i,function(){var e=n()(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&r(n),i.email,i.username,i.createdAt,i._id,e.abrupt("return",t.status(302).redirect("/blogs"));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}))(e,t,r)})),Kn.route("/auth/profile").get((function(e,n,t){try{if(e.isAuthenticated()){var r=e.user,a=r._id,o=r.email,i=r.username,s=r.createdAt;return n.status(200).json({_id:a,email:o,username:i,createdAt:s})}return n.status(302).send(null)}catch(e){t(e)}})),Kn.route("/auth/signout").get((function(e,n,t){try{e.logout((function(e){if(!e)return n.status(302).redirect("/")}))}catch(e){t(e)}})),Kn)),dt.use("/api/blogs",($n=(0,s.Router)(),et=G.getAllBlogs,nt=G.getASingleBlog,tt=G.updateABlog,rt=G.postNewBlog,at=G.deleteABlog,$n.route("/").get(et).post(rt),$n.route("/:blogId").get(nt).patch(tt).delete(at),$n.route("/:blogId/likes").post(function(){var e=n()(a().mark((function e(n,t,r){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.params.blogId,e.prev=1,!n.isAuthenticated()){e.next=13;break}return e.next=5,Y.findOne({_id:o});case 5:if((i=e.sent).likes.includes(n.user._id)){e.next=10;break}return i.likes.push(n.user._id),e.next=10,i.save();case 10:return e.abrupt("return",t.json(i));case 13:throw new Error("You Must Login To Perform This Operation.");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n,t,r){return e.apply(this,arguments)}}()).delete(function(){var e=n()(a().mark((function e(n,t,r){var o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.params.blogId,e.prev=1,!n.isAuthenticated()){e.next=14;break}return e.next=5,Y.findOne({_id:o});case 5:if(!(i=e.sent).likes.includes(n.user._id)){e.next=11;break}return s=i.likes.findIndex((function(e){return e.toString()===n.user._id.toString()})),i.likes.splice(s,1),e.next=11,i.save();case 11:return e.abrupt("return",t.status(200).json(i));case 14:throw new Error("You Must Login To Perform This Operation.");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),r(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,t,r){return e.apply(this,arguments)}}()),$n.route("/:blogId/comments").post(function(){var e=n()(a().mark((function e(n,t,r){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.isAuthenticated()){e.next=12;break}return e.next=4,Y.findOne({_id:n.params.blogId});case 4:return o=e.sent,i=new K(ee(ee({},n.body),{},{authorId:n.user._id,author:n.user.username,createdAt:new Date,time:"\n           ".concat((new Date).getHours().toLocaleString(),": ").concat((new Date).getMinutes().toLocaleString())})),o.comments.push(i),e.next=9,o.save();case 9:return e.abrupt("return",t.status(201).json(o));case 12:throw new Error("You Must Login To Perform This Operation.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n,t,r){return e.apply(this,arguments)}}()),$n.route("/:blogId/comments/:commentId").delete(function(){var e=n()(a().mark((function e(n,t,r){var o,i,s,c,u,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=n.params,i=o.blogId,s=o.commentId,!n.isAuthenticated()){e.next=20;break}return e.next=5,Y.findOne({_id:i});case 5:if(c=e.sent,u=c.comments,!(l=u.find((function(e){return e._id.toString()===s.toString()})))){e.next=18;break}if(l.authorId.toString()!==n.user._id.toString()){e.next=17;break}return p=u.filter((function(e){return e._id.toString()!==s.toString()})),c.comments=p,e.next=14,c.save();case 14:return e.abrupt("return",t.status(200).json(c));case 17:throw new Error("You Are Not Authorized Perform This Operation.");case 18:e.next=21;break;case 20:throw new Error("You Must Login To Perform This Operation.");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),r(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(n,t,r){return e.apply(this,arguments)}}()),$n)),dt.get("*",(function(e,n){var t=e.originalUrl.split("/")[2],r=(0,de.configureStore)({reducer:{auth:Ze,blogs:Se}}),a=(0,E.matchRoutes)(Qn,e.path).map((function(e){var n=e.route;return e.match,n.loadData?n.loadData(r,t):Promise.resolve(null)}));Promise.all(a).then((function(){var t={},a=function(e,n,t){var r=(0,ce.renderToString)(l().createElement(ue.Provider,{store:n},l().createElement(se.StaticRouter,{location:e.path,context:t},(0,E.renderRoutes)(Qn))));return'\n  <!DOCTYPE html>\n  <html lang="en" dir="ltr">\n  \n  <head>\n    <meta charset="utf-8">\n    <title>uBlog</title>\n    <meta charset="utf-8">\n    <link rel="stylesheet" href="/styles/styles.css">\n   </head>\n       \n  \n  <body>\n      <div id="root">'.concat(r,'</div>\n\n    <footer class="footer">\n    \n    </footer>\n\n     <script>\n       window.INITIAL_STATE = ').concat(pe()(n.getState()),'\n    <\/script>\n    <script src="/bundle.js"><\/script>\n  </body>\n</html>\n  \n  ')}(e,r,t);return t.url?n.redirect(301,t.url):(t.notFound&&n.status(404),n.send(a))}))})),dt.use((function(e,n,t,r){if(t.headersSent)return r(e);var a=e.statusCode||500,o=e.message||"Internal server error";return t.status(a).json({message:o})})),dt.listen(pt,(function(){var e;ot("Server is running on ".concat(pt)),(e=n()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.connect)(ct);case 3:ot("Database Connected Successfully."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ot("An Error Occurred While Connecting To Database ".concat(JSON.stringify(e.t0)));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return e.apply(this,arguments)})()}))})()})();